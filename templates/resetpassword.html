<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Upload Grades dataset</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container mt-3">
      <center>
        <br />
        <h2>GradeFlex - Reset password</h2>
        <br />

        <!-- forgot_password.html -->
        <form action="/forgot-password" method="post">
          Enter your username:
          <input type="text" name="username" required /><br />
          <button type="submit">Submit</button>
        </form>

        <!-- reset_password.html -->
        <form action="/reset-password" method="post">
          Security Question:
          <p>{{ question }}</p>
          Answer: <input type="text" name="answer" required /><br />
          New Password:
          <input type="password" name="new_password" required /><br />
          <button type="submit">Reset Password</button>
        </form>

        <br />
      </center>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script>
      document.getElementById("uploadForm").onsubmit = async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const response = await fetch("/upload", {
          method: "POST",
          body: formData, // Send the form data as multipart/form-data
        });
        const result = await response.json();
        if (response.ok) {
          alert(result.message);
          // You might want to redirect or update the UI here
        } else {
          alert(result.error);
        }
      };
    </script>
  </body>
</html>
